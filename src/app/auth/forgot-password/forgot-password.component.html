<div class="forgot-password-container">
  <h2>Forgot Password</h2>
  <form (ngSubmit)="onSubmit()">
    <div class="form-group">
      <label for="username">Username</label>
      <input
        type="text"
        id="username"
        [(ngModel)]="username"
        name="username"
        required
      />
    </div>
    <div class="form-group">
      <label for="email">Email</label>
      <input
        type="email"
        id="email"
        [(ngModel)]="email"
        name="email"
        required
      />
    </div>
    <button type="submit">Retrieve Password</button>
    <p class="error-message">{{ errorMessage }}</p>
  </form>

  <div *ngIf="currentPassword" class="password-section">
    <h3>Your Current Password</h3>
    <p>{{ currentPassword }}</p>

    <div *ngIf="showChangePasswordForm">
      <h3>Change Password</h3>
      <form (ngSubmit)="onChangePassword()">
        <div class="form-group">
          <label for="newPassword">New Password</label>
          <input
            type="password"
            id="newPassword"
            [(ngModel)]="newPassword"
            name="newPassword"
            required
          />
        </div>
        <button type="submit">Change Password</button>
        <p class="success-message">{{ successMessage }}</p>
        <p class="error-message">{{ passwordErrorMessage }}</p>
      </form>
    </div>

    <button class="keep-password-btn" (click)="onKeepPassword()">
      Keep Current Password
    </button>
  </div>
</div>
